{% import _self as menuLink %}
{% macro link(hrefLink, text) %}
    <a href="{{ path(hrefLink) }}" class="">{{ text }}</a>
{% endmacro %}

<div class="navbar navbar-default">
    <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-responsive-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
    </div>
    <div class="navbar-collapse collapse navbar-responsive-collapse">
        <ul class="nav navbar-nav">
            {{ knp_menu_render('AppBundle:Builder:navbarMenu',  {'template': 'AppBundle:Menu:knp_menu.html.twig', 'currentClass' : 'active'}) }}
        </ul>
        <form class="navbar-form navbar-left">
            <input type="text" class="form-control col-lg-8" placeholder="Search">
        </form>
        <ul class="nav navbar-nav navbar-right">
            {% if is_granted('ROLE_SUPER_ADMIN') %}
            <li>{{ menuLink.link('admin_homepage', 'Administrator') }}</li>
            {% endif %}
            {% if app.user %}
            <li>{{ menuLink.link('fos_user_security_logout', 'Logout') }}</li>
            {% else %}
            <li>{{ menuLink.link('fos_user_security_login', 'Login') }}</li>
            {% endif %}
        </ul>
    </div>
</div>